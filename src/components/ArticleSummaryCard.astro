---
import type { CollectionEntry } from "astro:content";
import Tag from "./Tag.astro";
interface Props {
  post: CollectionEntry<"blog">;
}
const {
  post: {
    slug,
    data: { tags, title },
  },
} = Astro.props;
---

<article
  class="group/card relative box-border rounded-3xl border-transparent shadow-md transition-all hover:border-emerald-500 dark:hover:border-amber-300"
>
  <div
    class="absolute -left-[1.5px] -bottom-[1.5px] z-0 h-0 w-0 origin-center overflow-hidden rounded-3xl group-hover/card:h-[calc(100%_+_3px)] group-hover/card:w-[calc(100%_+_3px)]"
  >
    <div
      class="absolute -right-[45%] -top-[25%] aspect-square h-[150%] animate-spin rounded-full bg-gradient-to-r from-emerald-300 to-emerald-800 dark:bg-gradient-to-r dark:from-amber-900 dark:via-orange-300 dark:to-yellow-300"
      style="animation-duration: 2000ms"
    >
    </div>
  </div>
  <a
    href={`blog/${slug}`}
    class="relative z-10 flex h-full flex-col gap-8 overflow-hidden rounded-3xl bg-white transition-all dark:bg-brand-primary-dark"
  >
    <div
      class="relative z-0 -mb-20 overflow-hidden before:absolute before:z-50 before:h-full before:w-full before:bg-gradient-to-b before:from-white/20 before:to-white before:content-[''] dark:before:from-brand-primary-dark/50 dark:before:to-brand-primary-dark dark:group-hover/card:before:from-brand-primary-dark/5 dark:group-hover/card:before:to-brand-primary-dark"
    >
      <img
        class="bg-primary-light h-56 w-full bg-brand-primary-dark bg-white grayscale transition duration-1000 group-hover/card:scale-105 group-hover/card:grayscale-0"
        src=`https://picsum.photos/seed/${slug}/900/514`
      />
    </div>
    <div
      class="relative z-10 flex-grow p-3 grayscale group-hover/card:grayscale-0 sm:p-8"
    >
      <div class="relative z-10 flex justify-start gap-2">
        {tags.map((tag: string) => <Tag tag={tag} />)}
      </div>
      <div class="py-12">
        <h2 class="text-slate-400">5th September 2013 - 10 minutes read</h2>
        <h1
          class="prose mt-0 mb-0 text-5xl group-hover/card:text-emerald-700 dark:text-slate-300 dark:group-hover/card:text-amber-400"
        >
          {title}
        </h1>
      </div>
    </div>
  </a>
</article>

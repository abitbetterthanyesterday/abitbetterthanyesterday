---
// TODO define Note
type Note = Record<string, any>;
import ArticleSummaryCard from "../../components/ArticleSummaryCard.astro";
import Tag from "../../components/Tag.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";
const allPosts = await Astro.glob<Note>("../../content/*.(md|mdx)");
const allTags = [
  ...new Set(allPosts.map((post) => post.frontmatter.tags).flat()),
];
---

<BaseLayout title="about">
  <main class="max-w-7xl mx-auto">
    <div class="relative mb-8">
      <i class="absolute h-6 top-3 left-4 text-slate-400" data-feather="search"
      ></i>
      <input
        type="text"
        class="bg-slate-300 dark:bg-brand-primary-light px-5 py-3 text-md rounded-xl placeholder:text-slate-400/95 text-slate-800 pl-12 outline-emerald-600 shadow-inner"
        placeholder="Search"
      />
    </div>
    <ul class="flex gap-4">
      {
        allTags.map((tag) => (
          <li>
            <Tag tag={tag} />
          </li>
        ))
      }
    </ul>

    <div class="grid grid-cols-1 sm:grid-cols-3 gap-12 py-12">
      {
        allPosts.map(
          ({ frontmatter: { title, description, slug, tags } }, index) => {
            return (
              <div
                class="opacity-0 animate-fade relative flex"
                style={{ animationDelay: `${index * 200}ms` }}
              >
                <ArticleSummaryCard
                  title={title}
                  tags={tags}
                  slug={slug}
                  description={description}
                />
              </div>
            );
          }
        )
      }
    </div>
  </main>
</BaseLayout>

---
import Tag from '../../components/Tag.astro';
import BaseLayout from "../../layouts/BaseLayout.astro";

export async function getStaticPaths() {
  const allPosts = await Astro.glob("../../content/*.(md|mdx)");
  return allPosts.map((post) => ({
    params: { post: post.frontmatter.title.split(" ").join("-").toLowerCase() },
    props: { post },
  }));
}
const {
  Content,
  frontmatter: { title, tags },
} = Astro.props.post;
---

<BaseLayout title={title}>
  <header class="prose dark:prose-invert mx-auto lg:prose-lg w-full py-12">
   <a href="/blog" class="bg-brand-secondary text-brand-secondary-light uppercase tracking-wide font-light rounded-xl py-2 px-4 hover:bg-brand-secondary-light transition cursor-pointer hover:text-brand-secondary-dark text-lg no-underline my-12">Go back</a>
   <h1 class="prose-h1:mt-2" >
   {title}
   </h1>
  <div class="flex">
   {tags.map((tag:string)=> <Tag tag={tag}/>)}
  </div>
</header>

  <article class="mx-auto bg-slate-900 bg-opacity-5 prose dark:prose-invert lg:prose-lg">
    <Content />
  </article>
</BaseLayout>
